<ion-view view-title="{{locale.home.title}}">
  
  <div fab ng-click='newBooking()'>
    <div class='ion-android-add'></div>
  </div>
  
  <ion-content style='background-color: #f5f5f5;'>
    <ion-refresher pulling-text="Pull to refresh..." on-refresh="refreshBookings()">
  </ion-refresher>
    <ion-list>
      
      <p ng-if='BookingsList && BookingsList.length==0' class="message-empty">{{ ::locale.home.msgNoRsv }}</p>
        
      <div ng-repeat='book in BookingsList' class="list card">
        <div class="item" ng-click="openBooking(book)" ng-if="selectedClient.map">
            <p class="pull-left bold">{{ ::locale.home.rsvinfo.labPRN }}</p>
            <h2 class="pull-right bold pnr" ng-click='openBooking(book)'><i class="ion-ios-location"></i> {{ ::book.pnr }}</h2>
        </div>
        <div class="item" ng-if="!selectedClient.map">
            <p class="pull-left bold">{{ ::locale.home.rsvinfo.labPRN }}</p>
            <h2 class="pull-right bold pnr"> {{ ::book.pnr }}</h2>
        </div>
          <div class="item">
              <h2 class="brand_model">{{ ::book.brand_model }}</h2>
              <p>{{ ::locale.home.labelPlate }}</p>
              <h2>{{ ::book.plate }}</h2>
          </div>      
          <div ng-if='!hasPicture' class="item item-image">
            <img ng-src="{{ book.image_max ? book.image_max : 'icons/vehicle-default-l.jpg' }}">
          </div>
          <div class="item" ng-if="bntOpenClose">
            <p>{{ ::locale.booking.labelCentralizzedButton }}</p>
            <a class="pull-left" ng-click="openCarManipolation(book.pnr, '0')" class="button button-balanced" style="padding: 0px 15px;">
              {{ ::locale.booking.buttonOpenCar }}
            </a>
            <a class="pull-left" ng-click="openCarManipolation(book.pnr, '1')" class="button button-positive" style="padding: 0px 15px;">
              {{ ::locale.booking.buttonCloseCar }}
            </a>
          </div>
          <div class="item">
            <div class="pull-left">
              <p>{{ ::locale.confirmation.labelColor }}</p>
              <div class='color-cube'><div style='background-color: {{ book.cmb_color }};'></div></div>
            </div>
            <div ng-show='book.seats' style='float: left;'>
              <p>{{ ::locale.confirmation.labelSeat }}</p>
              <p style='font-weight: bold; font-size: 20px; line-height: 26px; text-align: center;'>{{ ::book.seats }}</p>
            </div>
            <div ng-if='hasPicture' style='float: right;'>
              <img ng-src="{{ book.image_min ? book.image_min : 'icons/vehicle-default-s.jpg' }}" style='max-width: 94px;'>
            </div>
          </div>
          <div class="item" style='overflow: auto;'>
            <div style='display: inline-block; margin-right: 10px;'>
                <div class="date-select-label" style='text-align: center;'>{{ ::locale.vehicle.labelExternal }}</div>
                <div style='width: 50px; height: 30px; float: left; text-align: center; padding-top: 4px;'>
                  <i ng-if="book.vehicle_status != 'Fault'" class='ion-happy-outline' style='font-size: 26px; color: #fc0300;'></i>
                  <i ng-if="book.vehicle_status == 'Fault'" class='ion-sad-outline' style='font-size: 26px; color: #fc0300;'></i>
                </div>
              </div>
              <div style='display: inline-block;'>
                <div class="date-select-label" style='text-align: center;'>{{ ::locale.vehicle.labelInterior }}</div>
                <div style='width: 50px; height: 30px; float: left; text-align: center; padding-top: 4px;'>
                  <i ng-if="book.vehicle_cleanness_status != 'Dirty'" class='ion-happy-outline' style='font-size: 26px; color: #fc0300;'></i>
                  <i ng-if="book.vehicle_cleanness_status == 'Dirty'" class='ion-sad-outline' style='font-size: 26px; color: #fc0300;'></i>
                </div>
              </div>
              <div style='display: inline-block; margin-left: 20px; float: right; margin-top: 9px;'>
                <div style='width: 50px; height: 30px; background: transparent url(icons/fuel_icon.png) no-repeat center center; background-size: auto 100%; float: left;'></div>
                <div style='font-weight: bold; font-size: 13pt; margin-left: 4px; float: left; color: #fc0300; line-height: 33px;'>{{ ::book.cmb_fuel_quantity }}</div>
            </div>
          </div>
          <div class="item">
            <div class="pull-left">
              <h2>{{ ::locale.home.labelGet }}</h2>
              <p>{{ ::book.pickup_parking }}</p>
            </div>
            <p class="pull-right value">{{ ::book.pickup_date }}{{ ::book.pickup_time }}</p>
          </div>
          <div class="item">
            <div class="pull-left">
              <h2>{{ ::locale.home.labelSet }}</h2>
              <p>{{ ::book.return_parking }}</p>
            </div>
            <p class="pull-right value">{{ ::book.return_date }}{{ ::book.return_time }}</p>
          </div>
			<div class="item">
				<h2>
				  <button ng-click='delete(book)' class="button button-positive">
					  {{ ::locale.booking.labelDelete }}
				  </button> 
         
				</h2>
			</div>
      </div>
      
    </ion-list>
  </ion-content>
</ion-view>

