<ion-view title="{{ 'driveLicense.title' | translate}}">
    <ion-content>
        <ion-list>
            <ion-item class="item-divider">
                <h2>{{ 'driveLicense.license' | translate}}</h2>
            </ion-item>
            <div ng-if="!request">
                <ion-item>
                    <h2>{{ 'driveLicense.number' | translate}}</h2>
                    <p>{{userInfo.registry.license_code || '-'}}</p>
                </ion-item>
                <ion-item>
                    <h2>{{ 'driveLicense.issuingCountry' | translate}}</h2>
                    <p>{{userInfo.registry.license_place || '-'}}</p>
                </ion-item>
                <ion-item>
                    <h2>{{ 'driveLicense.issuingDate' | translate}}</h2>
                    <p>{{userInfo.registry.license_date || '-'}}</p>
                </ion-item>
                <ion-item>
                    <h2>{{ 'driveLicense.expiringDate' | translate}} </h2>
                    <p>{{userInfo.registry.license_expire || '-'}}</p>
                </ion-item>
            </div>
            <div ng-if="request">
                <ion-item class="item-input item-stacked-label">
                    <span class="input-label">{{ 'driveLicense.number' | translate}}<span class="color-error">*</span></span>
                    <input type="text" ng-model="request.license_code" placeholder="Numero">
                </ion-item>
                <ion-item class="item-input item-stacked-label">
                    <span class="input-label">{{ 'driveLicense.issuingCountry' | translate}}<span class="color-error">*</span></span>
                    <input type="text" ng-model="request.license_place" placeholder="Luogo di rilascio">
                </ion-item>
                <a class="item item-icon-right" style="min-height: 80px;" ng-click='selectDate("license_date")' href="#">
                    <p>{{ 'driveLicense.issuingDate' | translate}}<span class="color-error">*</span></p>
                    <h2><strong>{{ request.license_date | date:'dd/MM/yyyy' }}</strong></h2>
                    <i class="icon ion-ios-calendar-outline icons-reservation"></i>
                </a>
                <a class="item item-icon-right" style="min-height: 80px;" ng-click='selectDate("license_expire")' href="#">
                    <p>{{ 'driveLicense.expiringDate' | translate}}<span class="color-error">*</span></p>
                    <h2><strong>{{ request.license_expire | date:'dd/MM/yyyy' }}</strong></h2>
                    <i class="icon ion-ios-calendar-outline icons-reservation"></i>
                </a>
            </div>
        </ion-list>
        
        <div class="row" ng-if="!request">
            <div class="col col-80 col-offset-10">
                <button ng-click='edit()' class="button button-block button-positive">
                     {{ 'driveLicense.editLicense' | translate}}
                </button>
            </div>
        </div>
        <div class="row" ng-show="request">
            <div class="col col-50">
                <button ng-click='undo()' class="button button-block button-stable">
                    {{ 'driveLicense.cancel' | translate}}
                </button>
            </div>
            <div class="col col-50">
                <button ng-click='save()' class="button button-block button-positive">
                    {{ 'driveLicense.save' | translate}}
                </button>
            </div>
        </div>
    </ion-content>
</ion-view>